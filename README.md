# «Python и БД. ORM»
<br>

### Задание1:
- Составить модели классов SQLAlchemy
- Используя SQLAlchemy, составить запрос выборки магазинов, продающих целевого издателя.

### Задание 2
Напишите Python-скрипт, который:

- подключается к БД любого типа на ваш выбор, например, к PostgreSQL;
- импортирует необходимые модели данных;
- принимает имя или идентификатор издателя (publisher), например, через `input()`. Выводит построчно факты покупки книг этого издателя:

```
название книги | название магазина, в котором была куплена эта книга | стоимость покупки | дата покупки
```

### Задание 3

Заполните БД тестовыми данными.

***
<br>

## Реализация выполнена в файлах [main.py](/main.py) и [models.py](/models.py)

***
<br>

### Требуемые библиотеки указаны в файле [requirements.txt](/requirements.txt)

### В файле [sql_req.py](/sql_req.py) находятся функции SQL-запросов. 

***

### В файле [models.py](/models.py) содержатся:
- модели классов для организации таблиц в соответствии с заданием, сиспользованием [библиотеки PySimpleGUI](https://www.pysimplegui.org/).
- Функция импорта моделей данных (таблиц)
- Функция удаления таблиц
- Функция наполнения таблиц данными из файла [tests_data.json](/tests_data.json)
- Функция запроса выборки магазинов, продающих целевого издателя по его id.

***

### В файле [main.py](/main.py) содержатся:

- DSN (URL) подключения к БД методами sqlalchemy, куда необходимо ввести данные подключения по схеме: 'База данных://логин:пароль@хост:порт/имя_базы'
(по умолчанию: 'postgresql://postgres:пароль@localhost:5432/имя_бд')
- Скрипт для подключения к БД
- Закомментированные функции:
- - create_tables(engine) - создание таблиц в базе
- - fill_tables_with_json(file_path, session) - наполнение таблиц данными
- - request(session) - запрос выборки по id издательства, с выводом информации по схеме, указанной выше (в тексте задания)
- - drop_tables(engine) - удаление созданных таблиц из базы

***
